<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- namespace：必须与对应的接口全类名一致 id:必须与对应接口的某个对应的方法名一致 -->
<mapper namespace="com.sshs.system.dictionary.mapper.DictionaryMapper">
	<!-- mybsits_config中配置的alias类别名,也可直接配置resultType为类路劲 -->
	<!--表名 -->
	<sql id="tableName">
		SYS_DICTIONARY
	</sql>

	<!-- 字段 -->
	<sql id="Field">
		DICT_ID ,
		PARENT_ID ,
		DICT_TYPE ,
		DICT_CODE ,
		DICT_NAME ,
		DICT_DESC ,
		STATUS ,
		SORT_NO ,
		IS_SYSTEM ,
		MODULE ,
		LEGAL_ORG ,
		CRT_USER_CODE ,
		CRT_ORG_CODE ,
		CRT_DATE ,
		UPD_USER_CODE ,
		UPD_ORG_CODE ,
		UPD_DATE
	</sql>

	<!-- 字段值 -->
	<sql id="FieldValue">
		#{dictId},
		#{parentId},
		#{dictType},
		#{dictCode},
		#{dictName},
		#{dictNameEn},
		#{dictDesc},
		#{status},
		#{sortNo},
		#{IsSystem},
		#{module},
		#{legalOrg},
		#{crtUserCode},
		#{crtOrgCode},
		#{crtDate},
		#{updUserCode},
		#{updOrgCode},
		#{updDate}
	</sql>

	<select id="findById" parameterType="int" resultType="Dictionary">
		select
		<include refid="Field"></include>
		from
		<include refid="tableName"></include>
		where
		user_id=#{id}
	</select>
	<!-- 初始化字典项 根据dictCode查询 -->
	<select id="findByDictCode" parameterType="String" resultType="Dictionary">
		SELECT
		<include refid="Field"></include>
		FROM
		<include refid="tableName"></include>
		WHERE DICT_TYPE='1' AND DICT_CODE=#{dictCode}
	</select>

	<!-- 初始化字典项 根据parentId查询 -->
	<select id="findByParentId" parameterType="java.lang.String"
		resultType="Dictionary">
		SELECT
		<include refid="Field"></include>
		FROM
		<include refid="tableName"></include>
		WHERE PARENT_ID=#{parentId} order by
		sort_no asc
	</select>
	<!-- 初始化所有字典项目 -->
	<select id="findAllDictCodes" resultType="Dictionary">
		select
		<include refid="Field"></include>
		from
		<include refid="tableName">
		</include>
		where DICT_TYPE='1' and STATUS='1'
	</select>

	<!-- 初始化所有字典项目 -->
	<select id="findI18nByDictId" parameterType="String" resultType="DictionaryI18n">
		select I18N_ID,
		DICT_ID,
		DICT_CODE,
		LANGUAGE,
		COUNTRY,
		DICT_NAME,
		DICT_DESC,
		STATUS,
		LEGAL_ORG,
		UPD_USER_CODE,
		UPD_DATE
		from
		SYS_DICTIONARY_I18N
		where DICT_ID=#{dictId}
	</select>

	<!-- 分页查询系统管理->系统管理-数据字典表-查询列信息 -->
	<select id="findForPageList" parameterType="Page"
			resultType="Dictionary">
		SELECT
		<include refid="Field"></include>
		FROM
		<include refid="tableName"></include>
		WHERE 1=1
		<if test="variables.dictId != null and variables.dictId != ''">
			AND DICT_ID
			<choose>
				<when test="operators.dictId != null and operators.dictId != '' ">${operators.dictId}</when>
				<otherwise> = </otherwise>
			</choose>
			#{variables.dictId}
		</if>
		<if test="variables.module != null and variables.module != ''">
			AND MODULE
			<choose>
				<when test="operators.module != null and operators.module != '' ">${operators.module}</when>
				<otherwise> = </otherwise>
			</choose>
			#{variables.module}
		</if>
		<if test="variables.legalOrg != null and variables.legalOrg != ''">
			AND LEGAL_ORG
			<choose>
				<when test="operators.legalOrg != null and operators.legalOrg != '' ">${operators.legalOrg}</when>
				<otherwise> = </otherwise>
			</choose>
			#{variables.legalOrg}
		</if>
		<if test="variables.crtUserCode != null and variables.crtUserCode != ''">
			AND CRT_USER_CODE
			<choose>
				<when test="operators.crtUserCode != null and operators.crtUserCode != '' ">${operators.crtUserCode}</when>
				<otherwise> = </otherwise>
			</choose>
			#{variables.crtUserCode}
		</if>
		<if test="variables.crtOrgCode != null and variables.crtOrgCode != ''">
			AND CRT_ORG_CODE
			<choose>
				<when test="operators.crtOrgCode != null and operators.crtOrgCode != '' ">${operators.crtOrgCode}</when>
				<otherwise> = </otherwise>
			</choose>
			#{variables.crtOrgCode}
		</if>
		<if test="variables.crtDate != null and variables.crtDate != ''">
			AND CRT_DATE
			<choose>
				<when test="operators.crtDate != null and operators.crtDate != '' ">${operators.crtDate}</when>
				<otherwise> = </otherwise>
			</choose>
			#{variables.crtDate}
		</if>
		<if test="variables.updUserCode != null and variables.updUserCode != ''">
			AND UPD_USER_CODE
			<choose>
				<when test="operators.updUserCode != null and operators.updUserCode != '' ">${operators.updUserCode}</when>
				<otherwise> = </otherwise>
			</choose>
			#{variables.updUserCode}
		</if>
		<if test="variables.updOrgCode != null and variables.updOrgCode != ''">
			AND UPD_ORG_CODE
			<choose>
				<when test="operators.updOrgCode != null and operators.updOrgCode != '' ">${operators.updOrgCode}</when>
				<otherwise> = </otherwise>
			</choose>
			#{variables.updOrgCode}
		</if>
		<if test="variables.updDate != null and variables.updDate != ''">
			AND UPD_DATE
			<choose>
				<when test="operators.updDate != null and operators.updDate != '' ">${operators.updDate}</when>
				<otherwise> = </otherwise>
			</choose>
			#{variables.updDate}
		</if>
		<if test="variables.parentId != null and variables.parentId != ''">
			AND PARENT_ID
			<choose>
				<when test="operators.parentId != null and operators.parentId != '' ">${operators.parentId}</when>
				<otherwise> = </otherwise>
			</choose>
			#{variables.parentId}
		</if>
		<if test="variables.dictType != null and variables.dictType != ''">
			AND DICT_TYPE
			<choose>
				<when test="operators.dictType != null and operators.dictType != '' ">${operators.dictType}</when>
				<otherwise> = </otherwise>
			</choose>
			#{variables.dictType}
		</if>
		<if test="variables.dictCode != null and variables.dictCode != ''">
			AND DICT_CODE
			<choose>
				<when test="operators.dictCode != null and operators.dictCode != '' ">${operators.dictCode}</when>
				<otherwise> = </otherwise>
			</choose>
			#{variables.dictCode}
		</if>
		<if test="variables.dictName != null and variables.dictName != ''">
			AND DICT_NAME
			<choose>
				<when test="operators.dictName != null and operators.dictName != '' ">${operators.dictName}</when>
				<otherwise> = </otherwise>
			</choose>
			#{variables.dictName}
		</if>
		<if test="variables.dictDesc != null and variables.dictDesc != ''">
			AND DICT_DESC
			<choose>
				<when test="operators.dictDesc != null and operators.dictDesc != '' ">${operators.dictDesc}</when>
				<otherwise> = </otherwise>
			</choose>
			#{variables.dictDesc}
		</if>
		<if test="variables.status != null and variables.status != ''">
			AND STATUS
			<choose>
				<when test="operators.status != null and operators.status != '' ">${operators.status}</when>
				<otherwise> = </otherwise>
			</choose>
			#{variables.status}
		</if>
		<if test="variables.sortNo != null and variables.sortNo != ''">
			AND SORT_NO
			<choose>
				<when test="operators.sortNo != null and operators.sortNo != '' ">${operators.sortNo}</when>
				<otherwise> = </otherwise>
			</choose>
			#{variables.sortNo}
		</if>
		<if test="variables.isSystem != null and variables.isSystem != ''">
			AND IS_SYSTEM
			<choose>
				<when test="operators.isSystem != null and operators.isSystem != '' ">${operators.isSystem}</when>
				<otherwise> = </otherwise>
			</choose>
			#{variables.isSystem}
		</if>
	</select>
</mapper>